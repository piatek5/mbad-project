<th:block th:replace="~{layout/main :: layout('Katalog KsiƒÖ≈ºek', ~{:: .profile-page-content})}">

    <div class="profile-page-content container">

        <header style="margin-bottom: 2rem; border-bottom: var(--border-standard); padding-bottom: 1rem;">
            <h1>Twoje konto</h1>
            <p style="font-style: italic; color: var(--color-text-muted);">Zgadza siƒô, Twoje konto.</p>
        </header>

        <div class="profile-info-list-details">

            <aside class="retro-box" style="width: 280px; flex-shrink: 0;">

                <div class="side-list-header">
                    Panel Wyszukiwania
                </div>

                <ul class="side-list-content">

                    <li>
                        <a th:href="@{/my-profile(tab='rentals')}"
                           class="side-list-link"
                           th:classappend="${activeTab == 'rentals'} ? 'active'">
                            üìö Wypo≈ºyczenia
                        </a>
                    </li>

                    <li>
                        <a th:href="@{/my-profile(tab='reservations')}"
                           class="side-list-link"
                           th:classappend="${activeTab == 'reservations'} ? 'active'">
                            üìö Rezerwacje
                        </a>
                    </li>

                    <li>
                        <a th:href="@{/my-profile(tab='queue')}"
                           class="side-list-link"
                           th:classappend="${activeTab == 'queue'} ? 'active'">
                            üìö Lista oczekiwa≈Ñ
                        </a>
                    </li>

                    <li>
                        <a th:href="@{/my-profile(tab='settings')}"
                           class="side-list-link"
                           th:classappend="${activeTab == 'settings'} ? 'active'">
                            ‚öôÔ∏è Ustawienia
                        </a>
                    </li>

                </ul>

            </aside>

            <div class="retro-box" style="flex-grow: 1; padding: 2rem;">

                <div th:if="${activeTab == 'rentals'}">
                     <h3  style="margin-bottom: 1rem">Twoje aktualne wypo≈ºyczenia</h3>

                    <div th:if="${user.activeRentals.isEmpty()}" style="margin-top: 1rem; color: #666;">
                        Brak aktualnych wypo≈ºycze≈Ñ.
                    </div>

                    <ul th:if="${!user.activeRentals.isEmpty()}">
                        <li th:each="rental : ${user.activeRentals}";>
                            <strong th:text="${rental.bookCopy.book.title}">Tytu≈Ç</strong>
                            (Do zwrotu: <span th:text="${#temporals.format(rental.dueDate, 'dd.MM.yyyy')}">30.02.2024</span>)
                        </li>
                    </ul>
                </div>

                <div th:if="${activeTab == 'reservations'}">
                     <h3  style="margin-bottom: 1rem">Twoje rezerwacje</h3>

                    <div th:if="${#lists.isEmpty(activeReservations)}" style="margin-top: 1rem; color: #666;">
                        Brak aktywnych rezerwacji.
                    </div>

                    <ul th:if="${!#lists.isEmpty(activeReservations)}">
                        <li th:each="reservation : ${activeReservations}">
                            <strong th:text="${reservation.bookCopy.book.title}">Tytu≈Ç</strong>
                            (Wa≈ºne do: <span th:text="${#temporals.format(reservation.expirationDate, 'dd.MM.yyyy')}">30.02.2024</span>)
                        </li>
                    </ul>
                </div>

                <div th:if="${activeTab == 'queue'}">
                    <h3  style="margin-bottom: 1rem">KsiƒÖ≈ºki w oczekiwaniu</h3>
                    <div th:if="${user.queueEntries.isEmpty()}" style="margin-top: 1rem; color: #666;">
                        Nie oczekujesz na ≈ºadne ksiƒÖ≈ºki.
                    </div>
                    <ul th:if="${!user.queueEntries.isEmpty()}">
                        <li th:each="queueEntry : ${user.queueEntries}">
                            <strong th:text="${queueEntry.book.title}">Tytu≈Ç</strong>
                        </li>
                    </ul>
                </div>

                <div th:if="${activeTab == 'settings'}">
                    <h3  style="margin-bottom: 1rem">Ustawienia konta</h3>
                    <p>Tu bƒôdzie formularz zmiany has≈Ça itp.</p>
                </div>

            </div>
        </div>
    </div>
</th:block>